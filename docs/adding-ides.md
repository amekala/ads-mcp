# Adding a New IDE

To add support for a new IDE (e.g., Windsurf, Cline, OpenClaw), follow these steps.

## Step 1: Create the plugin directory

```
plugins/<ide>/adspirer/
├── agents/                    ← IDE-specific agent definition
├── rules/                     ← IDE-specific rules (if supported)
├── skills/                    ← Will be generated by sync-skills.sh
├── install.sh                 ← Install script for the IDE
└── README.md                  ← IDE-specific setup instructions
```

Create the agent definition in the format required by the IDE:
- Markdown + YAML frontmatter (Claude Code, Cursor)
- TOML (Codex)
- JSON (some IDEs)

## Step 2: Add the IDE to sync-skills.sh

Edit `scripts/sync-skills.sh` and add a new target in the generation loop. You need to define:

| Setting | Description |
|---|---|
| `CONTEXT_FILE` | The workspace context file name (e.g., `BRAND.md`, `CONTEXT.md`) |
| `AUTH_TROUBLESHOOT` | IDE-specific auth troubleshooting message |
| `keep_websearch` | `yes` if the IDE has native WebFetch/WebSearch tools, `no` otherwise |
| `keep_memory` | `yes` if the IDE supports memory files, `no` otherwise |
| `conditional_keep` | `CURSOR_CLAUDE` or `CODEX` (which conditional blocks to keep) |
| Target directory | Where generated skills should be written |
| Skills to generate | All 5, or just the main skill |

If the new IDE has unique structural requirements (like Codex's `$ARGUMENTS`), add a new conditional block type:
1. Add `<!-- BEGIN:NEW_IDE -->` / `<!-- END:NEW_IDE -->` to the relevant templates
2. Add processing logic in sync-skills.sh

## Step 3: Write the install script

See existing install scripts for patterns:
- `plugins/cursor/adspirer/install.sh` — zip download with git fallback
- `plugins/codex/adspirer/install.sh` — git clone

The install script should:
1. Download/clone the repo
2. Copy skills to the IDE's skill directory
3. Copy agent config
4. Configure MCP server connection (`https://mcp.adspirer.com/mcp`)

## Step 4: Update validate.sh

Add the new IDE's skill directory to the inventory checks and context file correctness checks.

## Step 5: Generate and test

```bash
./scripts/sync-skills.sh
./scripts/validate.sh
```

Then test the install script in a clean environment.
